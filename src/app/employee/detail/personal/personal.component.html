<mat-accordion class="container">
  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>
        Personal
      </mat-panel-title>
      <mat-panel-description>
        Information
      </mat-panel-description>
    </mat-expansion-panel-header>
    <form class="form"
    [formGroup]="myForm"                                
    id="personalForm"                                 
    (ngSubmit)="onSubmit()"                        
     >
  <mat-form-field>
      <input matInput formControlName="birthDate" 
                      placeholder="Birth Date (mm/dd/yyyy)" 
                      [matDatepicker]="bdayPicker" 
                      (focus)="bdayPicker.open()" 
                      [value]="this.dataSource?.birthDate | date: 'MM/dd/yyyy' " 
                      [ngModel]="this.dataSource?.birthDate | date: 'MM/dd/yyyy'" 
                      (ngModelChange)="this.dataSource.birthDate=$event"
                      [disabled]="!isAuth">
    <mat-datepicker #bdayPicker></mat-datepicker>
  </mat-form-field>
    
  <mat-form-field>
      <mat-select placeholder="Birth place district" formControlName="birthPlaceDis" [ngModel]="this.dataSource?.birthPlaceDis">
       <mat-option *ngFor="let district of districts" [value]="district.value">
          {{district.name}}
       </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field>
        <mat-select placeholder="Birth place town" formControlName="birthPlaceTow" [ngModel]="this.dataSource?.birthPlaceTow">
         <mat-option *ngFor="let town of towns" [value]="town.value">
            {{town.name}}
         </mat-option>
        </mat-select>
      </mat-form-field>

    <mat-form-field>
      <mat-select placeholder="Marital status" formControlName="maritalStatus" [ngModel]="this.dataSource?.maritalStatus">
       <mat-option *ngFor="let status of marStatus" [value]="status.value">
          {{status.name}}
       </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field>
      <input matInput formControlName="address" 
                      placeholder="Address" 
                      [value]="this.dataSource?.address | uppercase" 
                      [ngModel]="this.dataSource?.address | uppercase" 
                      (ngModelChange)="this.dataSource.address=$event"
                      [readonly]="!isAuth">
    </mat-form-field>
    <mat-form-field>
      <mat-select placeholder="District" formControlName="district" [ngModel]="this.dataSource?.district"> 
       <mat-option *ngFor="let district of districts" [value]="district.value">
          {{district.name}}
       </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field>
        <mat-select placeholder="Town" formControlName="town" [ngModel]="this.dataSource?.town">
         <mat-option *ngFor="let town of towns" [value]="town.value">
            {{town.name}}
         </mat-option>
        </mat-select>
      </mat-form-field>
    <mat-form-field>
        <input matInput formControlName="addressDate" 
                        placeholder="Last Address Update" 
                        [matDatepicker]="addressPicker" 
                        (focus)="addressPicker.open()" 
                        [value]="this.dataSource?.addressDate | date: 'MM/dd/yyyy' " 
                        [ngModel]="this.dataSource?.addressDate | date: 'MM/dd/yyyy'" 
                        (ngModelChange)="this.dataSource.addressDate=$event"
                        [disabled]="!isAuth">
                        <mat-datepicker #addressPicker></mat-datepicker>
  </mat-form-field>
      
      <mat-form-field>
        <input matInput formControlName="celNumber" 
                        placeholder="Cellular Phone Number" 
                        [value]="this.dataSource?.celNumber | uppercase" 
                        [ngModel]="this.dataSource?.celNumber | uppercase" 
                        (ngModelChange)="this.dataSource.celNumber=$event"
                        [readonly]="!isAuth">
                      
      </mat-form-field>
  
      <mat-form-field>
        <input matInput formControlName="telNumber" 
                        placeholder="Home Telephone Number" 
                        [value]="this.dataSource?.telNumber | uppercase" 
                        [ngModel]="this.dataSource?.telNumber | uppercase" 
                        (ngModelChange)="this.dataSource.telNumber=$event"
                        [readonly]="!isAuth">
                        
      </mat-form-field>
  
        <mat-form-field>
          <input matInput formControlName="emailAddress" 
                          placeholder="Email Address" 
                          [value]="this.dataSource?.emailAddress | lowercase" 
                          [ngModel]="this.dataSource?.emailAddress | uppercase" 
                          (ngModelChange)="this.dataSource.emailAddress=$event"
                          [readonly]="!isAuth">
        </mat-form-field>
    
        <mat-form-field>
            <input matInput formControlName="emailDate" 
                            placeholder="Last Email Update (mm/dd/yyyy)" 
                            [matDatepicker]="emailPicker" 
                            (focus)="emailPicker.open()" 
                            [value]="this.dataSource?.emailDate | date: 'MM/dd/yyyy' " 
                            [ngModel]="this.dataSource?.emailDate | date: 'MM/dd/yyyy'" 
                            (ngModelChange)="this.dataSource.emailDate=$event"
                            [disabled]="!isAuth">

          </mat-form-field>
          <mat-datepicker #emailPicker></mat-datepicker>
  </form>
  <button mat-raised-button color="primary" class="button" *ngIf="isAuth" form="personalForm">Save</button>
  <button mat-raised-button color="accent" class="button" *ngIf="isAuth" form="personalForm">Update</button>
  </mat-expansion-panel>
</mat-accordion>
