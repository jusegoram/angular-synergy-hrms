<mat-card>
        <mat-card-header>
            <mat-card-title>ADD CONCEPT</mat-card-title>

            <mat-card-subtitle>Select the Employee > Choose the Type > Choose the Concept > Select the day it will apply</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content fxLayout="row" fxLayout.xs='column' fxLayoutAlign="start start" fxLayoutGap="10px">
            <div>
                    <table [formGroup]="conceptFromGroup">
                            <tr fxLayout.xs='column'>
                                <td colspan="2">
                                        <!-- <mat-form-field appearance="outline">
                                                <mat-label>Employee</mat-label>
                                                    <mat-select placeholder="(Employee ID) John Doe"  name="employee" formControlName="employee">
                                                            <mat-option *ngFor="let employee of employeeList" [value]="employee._id">
                                                                {{employee.fullSearchName}}
                                                            </mat-option>
                                                        </mat-select>
                                            </mat-form-field> -->
                                            <mat-form-field appearance="outline">
                                                <mat-label>Employee</mat-label>
                                                <input matInput #employee [matAutocomplete]="auto" placeholder="Search..." formControlName="employee">
                                              </mat-form-field>

                                              <mat-autocomplete #auto="matAutocomplete">
                                                <mat-option *ngFor="let employee of filteredEmployees | async" [value]="employee.fullSearchName" (click)="setEmployee(employee)">
                                                  {{employee.fullSearchName}}
                                                </mat-option>
                                              </mat-autocomplete>
                                </td>
                            </tr>
                            <tr fxLayout.xs='column'>
                                    <td>
                                            <mat-form-field appearance="outline">
                                                <mat-label>Concept</mat-label>
                                                    <mat-select placeholder="Bonus / Deduction / Other"  name="concept" #conceptSelect formControlName="type">
                                                            <mat-option *ngFor="let concept of conceptTypeList" [value]="concept" (click)="getConcepts()">
                                                                {{concept.type}}
                                                            </mat-option>
                                                        </mat-select>
                                            </mat-form-field>
                                        </td>
                                    <td>
                                            <mat-form-field appearance="outline">
                                                    <mat-label>Reason</mat-label>
                                                        <mat-select placeholder="Reason"  name="list" formControlName="concept">
                                                                <mat-option *ngFor="let item of conceptSelect?.value?.concepts" [value]="item.concept">
                                                                    {{item.concept}}
                                                                </mat-option>
                                                            </mat-select>
                                                </mat-form-field>
                                    </td>
                            </tr>
                            <tr fxLayout.xs='column'>
                                <td colspan="2">
                                    <mat-form-field appearance="outline">
                                        <mat-label>Amount</mat-label>
                                        <input matInput placeholder="10.00" type="text" class="right-align" formControlName="amount">
                                        <span matSuffix>&nbsp;BZD </span>
                                    </mat-form-field>
                                </td>
                            </tr>
                            <tr fxLayout.xs='column'>
                                <td colspan="2">
                                        <mat-form-field appearance="outline">
                                                <mat-label>Effective Date</mat-label>
                                                <input matInput [matDatepicker]="conceptDatePicker" placeholder="MM / DD / YYYY" formControlName="date">
                                                <mat-datepicker-toggle matSuffix [for]="conceptDatePicker"></mat-datepicker-toggle>
                                                <mat-datepicker #conceptDatePicker></mat-datepicker>
                                        </mat-form-field>
                                </td>
                            </tr>
                        </table>
            </div>
            <div style='width: 100%;'>
                <ng-container style='width: 100%;' *ngIf="!conceptSelect.value === !employeeConcepts; else elseTemplate">
                        <table mat-table style='width: 100%;'#table [dataSource]="employeeConcepts">
                                <ng-container matColumnDef="type">
                                    <th mat-header-cell *matHeaderCellDef> Concept </th>
                                    <td mat-cell *matCellDef="let row"> {{row.type}} </td>
                                </ng-container>

                                <ng-container matColumnDef="concept">
                                    <th mat-header-cell *matHeaderCellDef> Reason </th>
                                    <td mat-cell *matCellDef="let row"> {{row.reason}} </td>
                                </ng-container>

                                <ng-container matColumnDef="amount">
                                    <th mat-header-cell *matHeaderCellDef> Amount </th>
                                    <td mat-cell *matCellDef="let row"> {{row.amount | currency:'BZD':'symbol-narrow':'2.2-2'}} </td>
                                </ng-container>

                                <ng-container matColumnDef="date">
                                    <th mat-header-cell *matHeaderCellDef> Effective Date </th>
                                    <td mat-cell *matCellDef="let row"> {{row.date | date: 'MMM&nbsp;d, yyyy'}} </td>
                                </ng-container>

                                <ng-container matColumnDef="status">
                                    <th mat-header-cell *matHeaderCellDef> Approved </th>
                                    <td mat-cell *matCellDef="let row"> <ng-container *ngIf="row.verified; else elseTemplate">
                                        <mat-icon color='primary'>check_circle</mat-icon>
                                    </ng-container>
                                    <ng-template #elseTemplate>
                                        <mat-icon color='warn'>cancel</mat-icon>
                                    </ng-template>
                                     </td>
                                </ng-container>

                                <tr mat-header-row *matHeaderRowDef="employeeConceptsColumns"></tr>
                                <tr mat-row *matRowDef="let row; columns: employeeConceptsColumns;"></tr>
                            </table>
                            <span fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="0px" *ngIf="!employeeConcepts||employeeConcepts && employeeConcepts.length === 0">
                                Select an employee to load all concepts
                            </span>
                </ng-container>
                <ng-template #elseTemplate>
                    <mat-spinner style="margin: auto 50%;"></mat-spinner>
                </ng-template>


            </div>
        </mat-card-content>
        <mat-card-actions>
            <button mat-button color="primary" (click)='onAddConcept()'> ADD NEW CONCEPT</button>
        </mat-card-actions>
    </mat-card>