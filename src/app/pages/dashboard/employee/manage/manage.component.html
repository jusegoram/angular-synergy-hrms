<mat-toolbar class="header">
  <mat-toolbar-row>
    <span>Workforce Management</span>
    <span class="fill-remaining-space"></span>
  </mat-toolbar-row>
  <mat-toolbar-row> </mat-toolbar-row>
  <mat-toolbar-row> </mat-toolbar-row>
</mat-toolbar>
<div class="mat-card-top">
  <div class="example-container">
    <div class="example-header">
      <mat-form-field appearance="outline">
        <input
          matInput
          [(ngModel)]="filterValue"
          (keyup)="applyFilter(filterValue)"
          placeholder="Filter"
        />
      </mat-form-field>
      <div fxFlex="auto"></div>
      <div fxLayout="row" fxLayoutAlign="start start" fxLayoutGap="10px">
        <button mat-button (click)="reload()">
          REFRESH
        </button>
      </div>
      <div *ngIf="auth.create" style="padding-left: 10px;">
        <button
          mat-raised-button
          color="primary"
          [routerLink]="['/', 'employee', 'new']"
        >
          NEW EMPLOYEE
        </button>
      </div>
    </div>
    <mat-table
      #table
      [dataSource]="dataSource"
      matSort
      (matSortChange)="sortData()"
    >
      <!--
        <ng-container matColumnDef="selected">
          <mat-header-cell *matHeaderCellDef> <mat-checkbox> Select all</mat-checkbox> </mat-header-cell>
          <mat-cell *matCellDef="let element"> <mat-checkbox (click)="onSelected($event.currentTarget.id)" [id]="element.id"></mat-checkbox> </mat-cell>
        </ng-container>

         Position Column -->

      <ng-container matColumnDef="employeeId">
        <mat-header-cell *matHeaderCellDef mat-sort-header>
          Employee ID.
        </mat-header-cell>
        <mat-cell *matCellDef="let element">
          {{ element.employeeId }}
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="firstName">
        <mat-header-cell *matHeaderCellDef mat-sort-header>
          Name
        </mat-header-cell>
        <mat-cell *matCellDef="let element">
          {{
            element.firstName +
              " " +
              element.middleName +
              " " +
              element.lastName
          }}
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="socialSecurity">
        <mat-header-cell *matHeaderCellDef mat-sort-header>
          Social Security
        </mat-header-cell>
        <mat-cell *matCellDef="let element">
          {{ element.socialSecurity }}
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="company.client">
        <mat-header-cell *matHeaderCellDef mat-sort-header>
          Client
        </mat-header-cell>
        <mat-cell *matCellDef="let element">
          {{ element.company?.client }}
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="company.campaign">
        <mat-header-cell *matHeaderCellDef mat-sort-header>
          Campaign
        </mat-header-cell>
        <mat-cell *matCellDef="let element">
          {{ element.company?.campaign }}
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="status">
        <mat-header-cell *matHeaderCellDef mat-sort-header>
          Status
        </mat-header-cell>
        <mat-cell *matCellDef="let element">
          {{ element.status | titlecase }}
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="details">
        <mat-header-cell *matHeaderCellDef mat-sort-header> </mat-header-cell>
        <mat-cell *matCellDef="let element">
          <a
            [routerLink]="['/', 'employee', 'detail']"
            [queryParams]="{ id: element._id }"
            mat-menu-item
            matTooltip="Go to details"
          >
            <span>Details </span>
            <mat-icon>arrow_forward</mat-icon>
          </a>
        </mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
    </mat-table>
    <mat-paginator
      #paginator
      [pageSize]="10"
      [pageSizeOptions]="[10, 20, 30, 50, 100]"
      (page)="onPageChange($event)"
      showFirstLastButtons
      (keydown.arrowleft)="previousPage()"
      (keyup.arrowright)="nextPage()"
    >
    </mat-paginator>
  </div>
</div>
