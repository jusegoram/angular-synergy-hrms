<mat-card class="pa-2">
  <h2>Clients</h2>

  <mat-form-field>
    <mat-select
      placeholder="Select Client"
      [(ngModel)]="selectedCli"
      name="cli"
    >
      <mat-option
        *ngFor="let client of clients"
        [value]="client.name"
        (click)="panel1.close()"
      >
        {{ client.name }}
      </mat-option>
    </mat-select>
    <mat-hint>Select New for a new Client</mat-hint>
  </mat-form-field>

  <mat-expansion-panel class="ma-1" #panel1 (opened)="getSelectedCli()">
    <mat-expansion-panel-header>
      <mat-panel-title>
        {{ selectedCli }}
      </mat-panel-title>
      <mat-panel-description>
        Add or Modify Campaigns
      </mat-panel-description>
    </mat-expansion-panel-header>
    <mat-form-field>
      <input
        matInput
        placeholder="Client Name"
        [(ngModel)]="newCli"
        name="editCli"
      />
    </mat-form-field>
    <div class="ma-1" *ngFor="let campaign of currentCli?.campaigns">
      <mat-form-field>
        <input
          matInput
          placeholder="Campaign Name"
          [(ngModel)]="campaign.name"
          (change)="onChangesCli()"
        />
      </mat-form-field>
    </div>

    <mat-form-field>
      <input matInput placeholder="Campaign Name" [(ngModel)]="newCam.name" />
    </mat-form-field>

    <button mat-icon-button (click)="onAddCli()">
      <mat-icon>add_circle</mat-icon>
    </button>
  </mat-expansion-panel>

  <button
    mat-button
    color="primary"
    (click)="onSaveCli(); panel1.close(); this.selectedCli = 'New'"
  >
    <mat-icon>save</mat-icon>
    &nbsp; SAVE
  </button>
  <mat-card-footer class="pa-2 mat-typography">
    <span>
      Select New > Open Dropdown > Edit Client Name > Add Campaigns > Save
      Changes</span
    >
  </mat-card-footer>
</mat-card>
